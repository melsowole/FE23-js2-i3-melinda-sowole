{"mappings":"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","sources":["<anon>","src/index.ts","src/modules/Shop.ts","src/modules/ApiClient.ts","src/modules/ProductRenderer.ts","src/modules/navigation.ts"],"sourcesContent":["class $af333662e8412bce$export$2e2bcd8739ae039 {\n    static{\n        this.baseUrl = \"https://dummyjson.com/products\";\n    }\n    static async fetchData(category) {\n        const url = this.baseUrl + (typeof category == \"string\" ? `/category/${category}` : \"\");\n        let res = await fetch(url);\n        const data = await res.json();\n        return this.parseProductsData(data.products);\n    }\n    static parseProductsData(productsData) {\n        return productsData.map(({ images: images, title: title, description: description, rating: rating, stock: stock, brand: brand, category: category, price: price, discountPercentage: discountPercentage })=>{\n            return {\n                title: title,\n                brand: brand,\n                price: price,\n                discount: Math.round(discountPercentage / 10) * 10,\n                description: description,\n                category: category,\n                image: images[0],\n                rating: JSON.parse(rating.toFixed(1)),\n                stock: stock\n            };\n        });\n    }\n}\n\n\nclass $2287cfc4bf8658f2$export$2e2bcd8739ae039 {\n    static render(product, container) {\n        const article = document.createElement(\"article\");\n        article.classList.add(\"product\");\n        container.append(article);\n        article.innerHTML = `\r\n      <div class=\"product-image-wrapper\">\r\n          <img src=\"${product.image}\" alt=\"\">\r\n          ${product.discount ? \"<span class='discount'>-\" + product.discount + \"%</span>\" : \"\"}\r\n      </div>\r\n      <div class=\"brand-rating-wrapper\">\r\n        <h3 class=\"brand\"><small>${product.brand}</small></h3>\r\n        <div aria-label=\"rated ${product.rating} out of 5\" class=\"rating material-symbols-outlined\">${this.getRatingString(product.rating)}</div>\r\n      </div>\r\n      <h3 class=\"title\"><b>${product.title}</b></h3>\r\n      <p class=\"description\"><small>${product.description}</small></p>\r\n      <p class=\"price\" aria-label=\"Original price $${product.price}. Now $${this.getProductPrice(product)}\">\r\n      ${product.discount ? \"<small class='original-price' aria-hidden='true'>$\" + product.price + \"</small>\" : \"\"}\r\n      <b aria-hidden='true' class=\" ${product.discount ? \"price\" : null}\">$${this.getProductPrice(product)}</b>\r\n      </p>\r\n      <button class=\"add-to-cart\">Add to Cart</button>\r\n    `;\n    }\n    static getProductPrice({ price: price, discount: discount }) {\n        return Math.round(price * ((100 - discount) / 100));\n    }\n    static getRatingString(rating) {\n        let string = \"\";\n        for(let i = 0; i < Math.round(rating); i++)string += \"star_rate\";\n        if (5 - rating >= 0.5) string += \"star_rate_half\";\n        return string;\n    }\n}\n\n\nconst $fd87d69046b15fe9$var$navCategories = [\n    {\n        name: \"tech\",\n        items: [\n            \"smartphones\",\n            \"laptops\"\n        ]\n    },\n    {\n        name: \"cosmetics\",\n        items: [\n            \"fragrances\",\n            \"skincare\"\n        ]\n    },\n    {\n        name: \"womens\",\n        items: [\n            \"tops\",\n            \"womens-dresses\",\n            \"womens-shoes\",\n            \"womens-watches\",\n            \"womens-bags\",\n            \"womens-jewellery\"\n        ]\n    },\n    {\n        name: \"mens\",\n        items: [\n            \"mens-shirts\",\n            \"mens-shoes\",\n            \"mens-watches\"\n        ]\n    },\n    {\n        name: \"accesories\",\n        items: [\n            \"sunglasses\"\n        ]\n    },\n    {\n        name: \"home\",\n        items: [\n            \"home-decoration\",\n            \"lighting\",\n            \"furniture\"\n        ]\n    },\n    {\n        name: \"vehicles\",\n        items: [\n            \"motorcycle\",\n            \"automotive\"\n        ]\n    },\n    {\n        name: \"groceries\",\n        items: [\n            \"groceries\"\n        ]\n    }\n];\nclass $fd87d69046b15fe9$export$2e2bcd8739ae039 {\n    static render(container) {\n        for (const category of $fd87d69046b15fe9$var$navCategories){\n            const categoryContainer = document.createElement(\"div\");\n            container.append(categoryContainer);\n            const label = this.createCategoryLabel(category.name);\n            const itemWrapper = document.createElement(\"div\");\n            itemWrapper.classList.add(\"item-wrapper\");\n            categoryContainer.append(label, itemWrapper);\n            for (const item of category.items)itemWrapper.append(this.createCategoryItem(item));\n        }\n    }\n    static createCategoryLabel(name) {\n        const categoryName = document.createElement(\"label\");\n        categoryName.classList.add(\"category-name\");\n        categoryName.innerHTML = `<small><b>${name}</b></small>`;\n        return categoryName;\n    }\n    static createCategoryItem(name) {\n        const item = document.createElement(\"button\");\n        item.textContent = $fd87d69046b15fe9$var$unKebab(name);\n        item.classList.add(\"item\");\n        item.id = name;\n        return item;\n    }\n}\nfunction $fd87d69046b15fe9$var$unKebab(string) {\n    return string.split(\"-\").join(\" \");\n}\n\n\nconst $fac2e016731c6ed8$var$pageName = document.querySelector(\".page-name\");\nconst $fac2e016731c6ed8$var$container = document.querySelector(\".product-container\");\nconst $fac2e016731c6ed8$var$nav = document.querySelector(\"nav\");\nclass $fac2e016731c6ed8$export$2e2bcd8739ae039 {\n    static init() {\n        (0, $fd87d69046b15fe9$export$2e2bcd8739ae039).render($fac2e016731c6ed8$var$nav);\n        this.initNav();\n        this.displayProducts();\n    }\n    static async displayProducts(filter) {\n        this.clearContainer();\n        const query = filter ? filter : undefined;\n        const products = await (0, $af333662e8412bce$export$2e2bcd8739ae039).fetchData(query);\n        for (const product of products)(0, $2287cfc4bf8658f2$export$2e2bcd8739ae039).render(product, $fac2e016731c6ed8$var$container);\n    }\n    static clearContainer() {\n        $fac2e016731c6ed8$var$container.innerHTML = \"\";\n    }\n    static initNav() {\n        $fac2e016731c6ed8$var$nav.addEventListener(\"click\", (e)=>{\n            const target = e.target;\n            if (target.tagName == \"BUTTON\") {\n                $fac2e016731c6ed8$var$pageName.textContent = \"Filter: '\" + target.textContent + \"'\";\n                console.log(\"hello\");\n                this.displayProducts(target.id);\n            }\n        });\n    }\n}\n\n\n(0, $fac2e016731c6ed8$export$2e2bcd8739ae039).init();\n\n\n//# sourceMappingURL=index.adae2a70.js.map\n","import Shop from \"./modules/Shop.ts\";\r\n\r\nShop.init();\r\n","import ApiClient, { Product } from \"./ApiClient.ts\";\r\nimport ProductRenderer from \"./ProductRenderer.ts\";\r\nimport Navigation from \"./navigation.ts\";\r\n\r\nconst pageName = document.querySelector(\".page-name\") as HTMLHeadingElement;\r\nconst container = document.querySelector(\".product-container\") as HTMLElement;\r\nconst nav = document.querySelector(\"nav\") as HTMLElement;\r\n\r\nexport default class Shop {\r\n  static init(): void {\r\n    Navigation.render(nav);\r\n    this.initNav();\r\n    this.displayProducts();\r\n  }\r\n\r\n  static async displayProducts(filter?: string): Promise<any> {\r\n    this.clearContainer();\r\n\r\n    const query: string | undefined = filter ? filter : undefined;\r\n\r\n    const products: Product[] = await ApiClient.fetchData(query);\r\n\r\n    for (const product of products) {\r\n      ProductRenderer.render(product, container);\r\n    }\r\n  }\r\n\r\n  private static clearContainer(): void {\r\n    container.innerHTML = \"\";\r\n  }\r\n\r\n  private static initNav(): void {\r\n    nav.addEventListener(\"click\", (e: Event) => {\r\n      const target = e.target as HTMLElement;\r\n\r\n      if (target.tagName == \"BUTTON\") {\r\n        pageName.textContent = \"Filter: '\" + target.textContent + \"'\";\r\n\r\n        console.log(\"hello\");\r\n\r\n        this.displayProducts(target.id);\r\n      }\r\n    });\r\n  }\r\n}\r\n","export type Product = {\r\n  image: string;\r\n  title: string;\r\n  description: string;\r\n  rating: number;\r\n  stock: number;\r\n  brand: string;\r\n  category: string;\r\n  price: number;\r\n  discount: number; // round\r\n};\r\n\r\nexport default class ApiClient {\r\n  static baseUrl = \"https://dummyjson.com/products\";\r\n\r\n  static async fetchData(category?: string): Promise<Product[]> {\r\n    const url =\r\n      this.baseUrl +\r\n      (typeof category == \"string\" ? `/category/${category}` : \"\");\r\n\r\n    let res = await fetch(url);\r\n    const data = await res.json();\r\n\r\n    return this.parseProductsData(data.products);\r\n  }\r\n\r\n  private static parseProductsData(productsData: any[]): Product[] {\r\n    return productsData.map(\r\n      ({\r\n        images,\r\n        title,\r\n        description,\r\n        rating,\r\n        stock,\r\n        brand,\r\n        category,\r\n        price,\r\n        discountPercentage,\r\n      }) => {\r\n        return {\r\n          title,\r\n          brand,\r\n          price,\r\n          discount: Math.round(discountPercentage / 10) * 10,\r\n          description,\r\n          category,\r\n          image: images[0],\r\n          rating: JSON.parse(rating.toFixed(1)),\r\n          stock,\r\n        };\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Product } from \"./ApiClient.ts\";\r\n\r\nexport default class ProductRenderer {\r\n  static render(product: Product, container: HTMLElement) {\r\n    const article = document.createElement(\"article\");\r\n    article.classList.add(\"product\");\r\n\r\n    container.append(article);\r\n\r\n    article.innerHTML = `\r\n      <div class=\"product-image-wrapper\">\r\n          <img src=\"${product.image}\" alt=\"\">\r\n          ${\r\n            product.discount\r\n              ? \"<span class='discount'>-\" + product.discount + \"%</span>\"\r\n              : \"\"\r\n          }\r\n      </div>\r\n      <div class=\"brand-rating-wrapper\">\r\n        <h3 class=\"brand\"><small>${product.brand}</small></h3>\r\n        <div aria-label=\"rated ${\r\n          product.rating\r\n        } out of 5\" class=\"rating material-symbols-outlined\">${this.getRatingString(\r\n      product.rating\r\n    )}</div>\r\n      </div>\r\n      <h3 class=\"title\"><b>${product.title}</b></h3>\r\n      <p class=\"description\"><small>${product.description}</small></p>\r\n      <p class=\"price\" aria-label=\"Original price $${\r\n        product.price\r\n      }. Now $${this.getProductPrice(product)}\">\r\n      ${\r\n        product.discount\r\n          ? \"<small class='original-price' aria-hidden='true'>$\" +\r\n            product.price +\r\n            \"</small>\"\r\n          : \"\"\r\n      }\r\n      <b aria-hidden='true' class=\" ${\r\n        product.discount ? \"price\" : null\r\n      }\">$${this.getProductPrice(product)}</b>\r\n      </p>\r\n      <button class=\"add-to-cart\">Add to Cart</button>\r\n    `;\r\n  }\r\n\r\n  private static getProductPrice({ price, discount }: Product): number {\r\n    return Math.round(price * ((100 - discount) / 100));\r\n  }\r\n\r\n  private static getRatingString(rating: number): string {\r\n    let string = \"\";\r\n\r\n    for (let i = 0; i < Math.round(rating); i++) {\r\n      string += \"star_rate\";\r\n    }\r\n\r\n    if (5 - rating >= 0.5) {\r\n      string += \"star_rate_half\";\r\n    }\r\n\r\n    return string;\r\n  }\r\n}\r\n","type productCategory = {\r\n  name: string;\r\n  items: string[];\r\n};\r\n\r\nconst navCategories: productCategory[] = [\r\n  {\r\n    name: \"tech\",\r\n    items: [\"smartphones\", \"laptops\"],\r\n  },\r\n  {\r\n    name: \"cosmetics\",\r\n    items: [\"fragrances\", \"skincare\"],\r\n  },\r\n  {\r\n    name: \"womens\",\r\n    items: [\r\n      \"tops\",\r\n      \"womens-dresses\",\r\n      \"womens-shoes\",\r\n      \"womens-watches\",\r\n      \"womens-bags\",\r\n      \"womens-jewellery\",\r\n    ],\r\n  },\r\n  {\r\n    name: \"mens\",\r\n    items: [\"mens-shirts\", \"mens-shoes\", \"mens-watches\"],\r\n  },\r\n  {\r\n    name: \"accesories\",\r\n    items: [\"sunglasses\"],\r\n  },\r\n  {\r\n    name: \"home\",\r\n    items: [\"home-decoration\", \"lighting\", \"furniture\"],\r\n  },\r\n  {\r\n    name: \"vehicles\",\r\n    items: [\"motorcycle\", \"automotive\"],\r\n  },\r\n  {\r\n    name: \"groceries\",\r\n    items: [\"groceries\"],\r\n  },\r\n];\r\n\r\nexport default class Navigation {\r\n  static render(container: HTMLElement): void {\r\n    for (const category of navCategories) {\r\n      const categoryContainer = document.createElement(\"div\");\r\n      container.append(categoryContainer);\r\n\r\n      const label = this.createCategoryLabel(category.name);\r\n\r\n      const itemWrapper = document.createElement(\"div\");\r\n      itemWrapper.classList.add(\"item-wrapper\");\r\n\r\n      categoryContainer.append(label, itemWrapper);\r\n\r\n      for (const item of category.items) {\r\n        itemWrapper.append(this.createCategoryItem(item));\r\n      }\r\n    }\r\n  }\r\n\r\n  private static createCategoryLabel(name: string): HTMLElement {\r\n    const categoryName = document.createElement(\"label\");\r\n    categoryName.classList.add(\"category-name\");\r\n    categoryName.innerHTML = `<small><b>${name}</b></small>`;\r\n\r\n    return categoryName;\r\n  }\r\n\r\n  private static createCategoryItem(name: string): HTMLElement {\r\n    const item = document.createElement(\"button\");\r\n    item.textContent = unKebab(name);\r\n    item.classList.add(\"item\");\r\n    item.id = name;\r\n    return item;\r\n  }\r\n}\r\n\r\nfunction unKebab(string: string): string {\r\n  return string.split(\"-\").join(\" \");\r\n}\r\n"],"names":["$af333662e8412bce$export$2e2bcd8739ae039","baseUrl","fetchData","category","url","res","fetch","data","json","parseProductsData","products","productsData","map","images","title","description","rating","stock","brand","price","discountPercentage","discount","Math","round","image","JSON","parse","toFixed","$2287cfc4bf8658f2$export$2e2bcd8739ae039","render","product","container","article","document","createElement","classList","add","append","innerHTML","getRatingString","getProductPrice","string","i","$fd87d69046b15fe9$var$navCategories","name","items","$fd87d69046b15fe9$export$2e2bcd8739ae039","categoryContainer","label","createCategoryLabel","itemWrapper","item","createCategoryItem","categoryName","textContent","split","join","id","$fac2e016731c6ed8$var$pageName","querySelector","$fac2e016731c6ed8$var$container","$fac2e016731c6ed8$var$nav","init","initNav","displayProducts","filter","clearContainer","undefined","addEventListener","e","target","tagName","console","log"],"version":3,"file":"index.adae2a70.js.map"}